# This file contains pin mappings for the stock 2020 Creality Ender 3
# V2. To use this config, during "make menuconfig" select the
# STM32F103 with a "28KiB bootloader" and serial (on USART1 PA10/PA9)
# communication.

# If you prefer a direct serial connection, in "make menuconfig"
# select "Enable extra low-level configuration options" and select
# serial (on USART3 PB11/PB10), which is broken out on the 10 pin IDC
# cable used for the LCD module as follows:
# 3: Tx, 4: Rx, 9: GND, 10: VCC

# Flash this firmware by copying "out/klipper.bin" to a SD card and
# turning on the printer with the card inserted. The firmware
# filename must end in ".bin" and must not match the last filename
# that was flashed.

# See docs/Config_Reference.md for a description of parameters.

[include printer/mcu.cfg]
[include printer/kinematics.cfg]
[include printer/stepper.cfg]
[include printer/extruder.cfg]
[include printer/heater_bed.cfg]
[include printer/fan.cfg]

[include bltouch/probe.cfg]
[include bltouch/homing.cfg]
[include bltouch/bed_mesh.cfg]
[include bltouch/screw_tilt.cfg]

[include print_settings/firmware_retraction.cfg]
[include print_settings/arcs.cfg]
[include print_settings/input_shaper.cfg]

[include macros/kiauh.cfg]
[include macros/mymacros.cfg]

[pause_resume]

[display_status]

[virtual_sdcard]
path: ~/gcode_files

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [bed_mesh Ender3_glass_bed_orig]
#*# version = 1
#*# points =
#*# 	0.005000, -0.002500, -0.002500, 0.007500, 0.002500, -0.010000, -0.012500, -0.012500, -0.002500, 0.007500, 0.002500, -0.002500, -0.015000, 0.002500, -0.012500
#*# 	0.007500, 0.002500, -0.005000, 0.005000, 0.007500, -0.007500, 0.000000, -0.007500, 0.005000, 0.012500, 0.017500, 0.002500, -0.022500, -0.005000, -0.012500
#*# 	0.030000, 0.035000, 0.025000, 0.040000, 0.022500, 0.002500, -0.007500, 0.005000, 0.010000, 0.010000, 0.020000, -0.012500, -0.015000, -0.015000, -0.027500
#*# 	0.020000, 0.002500, 0.022500, 0.015000, 0.002500, -0.015000, -0.022500, -0.012500, -0.002500, 0.015000, -0.002500, -0.007500, -0.027500, -0.020000, -0.032500
#*# 	-0.005000, -0.015000, 0.000000, -0.007500, -0.002500, -0.005000, -0.017500, -0.012500, -0.012500, -0.005000, -0.012500, -0.022500, -0.032500, -0.017500, -0.037500
#*# 	-0.055000, -0.052500, -0.052500, -0.037500, -0.037500, -0.045000, -0.045000, -0.037500, -0.030000, -0.020000, -0.022500, -0.027500, -0.035000, -0.017500, -0.027500
#*# 	-0.035000, -0.032500, -0.022500, -0.017500, -0.022500, -0.027500, -0.037500, -0.022500, -0.007500, -0.012500, -0.007500, -0.017500, -0.025000, -0.015000, -0.025000
#*# 	-0.015000, 0.002500, -0.022500, -0.020000, 0.000000, -0.017500, -0.027500, -0.017500, -0.010000, -0.007500, -0.005000, -0.020000, -0.035000, -0.032500, -0.042500
#*# 	-0.012500, -0.010000, -0.025000, -0.002500, -0.010000, -0.027500, -0.037500, -0.030000, -0.020000, -0.015000, -0.020000, -0.030000, -0.052500, -0.060000, -0.095000
#*# 	-0.035000, -0.040000, -0.032500, -0.022500, -0.025000, -0.030000, -0.040000, -0.035000, -0.017500, -0.015000, -0.005000, -0.030000, -0.037500, -0.035000, -0.040000
#*# 	-0.047500, -0.032500, -0.045000, -0.025000, -0.022500, -0.030000, -0.032500, -0.010000, 0.005000, 0.007500, 0.002500, -0.005000, -0.012500, -0.005000, -0.017500
#*# 	-0.027500, -0.037500, -0.030000, -0.020000, -0.007500, 0.000000, -0.015000, -0.002500, 0.005000, 0.010000, 0.007500, 0.007500, -0.002500, 0.010000, -0.005000
#*# 	0.000000, 0.005000, -0.005000, 0.005000, 0.007500, 0.000000, 0.000000, 0.015000, 0.015000, 0.022500, 0.015000, 0.005000, -0.005000, 0.002500, -0.020000
#*# 	-0.025000, -0.025000, -0.020000, -0.017500, -0.002500, 0.002500, -0.017500, -0.010000, 0.000000, 0.002500, 0.002500, -0.002500, -0.020000, -0.022500, -0.035000
#*# 	-0.012500, -0.017500, -0.017500, -0.005000, -0.012500, -0.007500, -0.017500, 0.000000, 0.005000, 0.007500, 0.015000, 0.002500, -0.005000, -0.005000, -0.022500
#*# tension = 0.2
#*# mesh_x_pps = 2
#*# algo = bicubic
#*# min_x = 15.0
#*# min_y = 15.0
#*# y_count = 15
#*# mesh_y_pps = 2
#*# x_count = 15
#*# max_x = 208.9
#*# max_y = 208.9
#*#
#*# [bed_mesh ender3_glass_bed]
#*# version = 1
#*# points =
#*# 	-0.004750, -0.010000, 0.006125, 0.006500, 0.013875, -0.006625, -0.008375, 0.018000, 0.008500, 0.021375, 0.019500, 0.011125, -0.003000, 0.009625, -0.023250
#*# 	-0.029625, -0.040875, -0.010000, -0.010125, -0.015875, -0.010125, -0.016500, -0.018250, -0.001375, 0.009750, 0.021375, 0.015875, -0.006875, -0.000875, -0.023750
#*# 	0.009875, -0.008625, -0.003375, 0.007500, 0.030250, -0.000750, -0.006250, 0.004875, 0.016000, 0.011375, 0.010000, 0.004250, -0.014125, -0.008000, -0.038125
#*# 	-0.011625, -0.029375, -0.013375, 0.005375, -0.001875, 0.000375, -0.014500, -0.007375, 0.010500, 0.013125, 0.023375, 0.007125, 0.007125, -0.004250, -0.019500
#*# 	-0.020000, -0.031250, -0.017750, -0.009375, -0.016875, -0.019500, -0.021625, -0.012125, -0.004250, -0.000625, 0.002625, -0.012500, -0.021000, -0.019500, -0.049000
#*# 	-0.069250, -0.088750, -0.069625, -0.029375, -0.043500, -0.048375, -0.043750, -0.037625, -0.017500, -0.010625, 0.000125, -0.006375, -0.020875, -0.007750, -0.030750
#*# 	-0.048625, -0.076875, -0.057625, -0.037250, -0.039875, -0.012750, -0.048125, -0.002625, -0.004125, 0.004625, 0.015500, 0.001875, -0.009500, -0.002250, -0.039000
#*# 	-0.024750, -0.051000, -0.027250, -0.015000, -0.012875, -0.006000, -0.009125, -0.009250, 0.002875, 0.013875, 0.015125, 0.002375, -0.014125, -0.014000, -0.053500
#*# 	-0.031750, -0.029500, -0.027750, -0.018750, -0.003750, -0.004500, -0.022000, -0.003375, 0.009000, 0.012375, 0.013000, -0.002125, -0.011875, -0.022375, -0.045625
#*# 	-0.021375, -0.052250, -0.026875, -0.015250, -0.010750, 0.003875, -0.020750, -0.003375, 0.006375, 0.009750, 0.014250, 0.001500, -0.010625, -0.013125, -0.045250
#*# 	-0.060000, -0.073625, -0.047750, -0.026000, -0.017125, -0.007500, -0.018875, 0.003250, 0.025000, 0.022000, 0.025500, 0.011250, -0.003250, -0.013625, -0.030125
#*# 	-0.051750, -0.061375, -0.031000, -0.015125, -0.010000, -0.003875, -0.000750, 0.011625, 0.032250, 0.035000, 0.047500, 0.037750, 0.024750, 0.035125, -0.005250
#*# 	-0.017375, -0.029000, -0.006500, 0.011375, 0.008250, 0.010125, 0.000250, 0.019250, 0.031750, 0.055250, 0.040625, 0.023125, 0.012625, 0.007750, -0.028000
#*# 	-0.011000, -0.037250, -0.013750, 0.001500, 0.004625, 0.018250, 0.004875, 0.022375, 0.035000, 0.045625, 0.047250, 0.036625, 0.026250, 0.016250, -0.024125
#*# 	-0.028750, -0.035500, -0.013000, 0.000750, 0.007625, 0.034250, -0.000875, 0.023750, 0.033875, 0.056875, 0.038875, 0.029125, 0.008625, -0.002875, -0.013000
#*# tension = 0.2
#*# mesh_x_pps = 2
#*# algo = bicubic
#*# min_x = 10.0
#*# min_y = 10.0
#*# y_count = 15
#*# mesh_y_pps = 2
#*# x_count = 15
#*# max_x = 201.94
#*# max_y = 201.94
